# 木犀招新系统 v2

基于 `go-zero` 的木犀招新系统后端仓库

## 服务

- auth：身份认证
- user：用户信息
- task：作业
- review：审阅
- schedule：进度
- form：报名表
- test：测验

## 运行

### 1. 配置

 复制 `~/etc/app-example.yaml` 文件为 `~/etc/app.yaml`，并根据需要进行配置。

### 2. 构建运行

- `rpc`服务

  进入`rpc`服务目录，执行

  ```go
  go run rpc.go -f etc/rpc.yaml
  ```

- `api`服务

  进入`api`服务目录，执行

  ```go
  go run api.go -f etc/api.yaml
  ```

ps：运行整个项目时，user服务需要在task，review，form，test服务之前启动。

## 错误码

| 状态码 | 错误码 | 错误信息           |
| ------ | ------ | ------------------ |
| 400    | 10001  | 数据库访问出错     |
| 400    | 10002  | 存在无效Id         |
| 400    | 10003  | 用户权限不足       |
| 400    | 10004  | 未查询到指定内容   |
| 400    | 10101  | 身份令牌生成失败   |
| 400    | 10102  | 邮箱验证失败       |
| 400    | 10103  | 邮箱已被注册       |
| 400    | 10104  | 邮箱尚未注册       |
| 400    | 10105  | 邮箱或密码错误     |
| 400    | 10106  | 生成人机验证图失败 |
| 400    | 10107  | 人机验证失败       |
| 400    | 10108  | 学号尚未绑定       |
| 400    | 10109  | 学号已被绑定       |
| 400    | 10110  | 学号或密码错误     |